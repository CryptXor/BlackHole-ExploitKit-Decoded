<?php 

class Browser2
{
    public static function getID($title, $arr)
    {
        return array_search($title, $arr);
    }

    public static function getAllData($data)
    {
        $resArray = array(  );
        foreach( $data as $cat ) 
        {
            switch( $cat ) 
            {
                case "browsers":
                    $browsers = Browser::$browsers;
                    $resBrowsers = array(  );
                    foreach( $browsers as $title ) 
                    {
                        $resBrowsers[] = array( "id" => self::getid($title, Browser::$browsers), "title" => $title );
                    }
                    $resArray[] = $resBrowsers;
                    break;
                case "browsers2":
                    $keys = Browser::$browsers2;
                    $browsers = array(  );
                    foreach( $keys as $key ) 
                    {
                        $browsers[] = Browser::$browsers[$key];
                    }
                    $resBrowsers = array(  );
                    foreach( $browsers as $title ) 
                    {
                        $resBrowsers[] = array( "id" => self::getid($title, Browser::$browsers), "title" => $title );
                    }
                    $resArray[] = $resBrowsers;
                    break;
                case "oses":
                    $oses = array_keys(Browser::$OSList);
                    $resOses = array(  );
                    $keys = array_keys(Browser::$OSList);
                    foreach( $oses as $title ) 
                    {
                        $resOses[] = array( "id" => self::getid($title, $keys), "title" => $title );
                    }
                    $resArray[] = $resOses;
                    break;
                case "oses2":
                    $keys = Browser::$OSList2;
                    $oskeys = array_keys(Browser::$OSList);
                    $oses = array(  );
                    foreach( $keys as $key ) 
                    {
                        $oses[] = $oskeys[$key];
                    }
                    $resOses = array(  );
                    $keys = array_keys(Browser::$OSList);
                    foreach( $oses as $title ) 
                    {
                        $resOses[] = array( "id" => self::getid($title, $keys), "title" => $title );
                    }
                    $resArray[] = $resOses;
                    break;
                case "countries":
                    $countries = array_unique(Browser::$countryNames);
                    sort($countries);
                    $resCountries = array(  );
                    foreach( $countries as $title ) 
                    {
                        if( $title == "Other country" ) 
                        {
                            continue;
                        }

                        $resCountries[] = array( "id" => self::getid($title, Browser::$countryNames), "title" => $title );
                    }
                    $resCountries[] = array( "id" => self::getid("Other country", Browser::$countryNames), "title" => "Other country" );
                    $resArray[] = $resCountries;
                    break;
                case "exploits":
                    $exploits = Browser::$exploits;
                    sort($exploits);
                    $resExploits = array(  );
                    foreach( $exploits as $title ) 
                    {
                        $resExploits[] = array( "id" => self::getid($title, Browser::$exploits), "title" => $title );
                    }
                    $resArray[] = $resExploits;
                    break;
                case "files":
                    $resArray[] = db::select("select * from Files order by Title asc");
            }
        }
        return $resArray;
    }

}


